<!doctype html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
		<title>Music Math Helper</title>
    </head>
    <body>
    <h1>Tools</h1>

    <h3>ğ‘“ to MIDI frequency</h3>

    MIDI pitches are expressed as integers from 0 - 127.  They are calculated as a function of real-time frequency ğ‘“ as:
    <br>
    ğ‘š = 69 + 12 log_2 (ğ‘“/440)
    <br>

    <form onsubmit="return fToMIDI();">
        Real time frequency, in Hz = <input type="text" id="freqf"/>
        <br>
        <input type="submit" value="Convert!"/>
        <br>
        MIDI frequency = <input type="text" id="MIDIResult" readonly/>

    </form>

    <script>
    function fToMIDI () {
    var f = parseFloat(document.getElementById("freqf").value);
    var result = parseInt(69 + (12*(Math.log2((f/440)))));
    document.getElementById("MIDIResult").value = result;
    return false; // Stop form submit
    }
    </script>

    <h3>MIDI frequency to ğ‘“ </h3>

    <form onsubmit="return MIDItof();">
        MIDI frequency = <input type="text" id="MIDIfreq"/>
        <br>
        <input type="submit" value="Convert!"/>
        <br>
        Real time frequency, in Hz = <input type="text" id="fResult" readonly/>

    </form>

    <script>
    function MIDItof () {
    var MIDIfreq = parseFloat(document.getElementById("MIDIfreq").value);
    var result = 440 * 2**((MIDIfreq-69)/12);
    document.getElementById("fResult").value = result;
    return false; // Stop form submit
    }
    </script>



    <h1>Notes</h1>

    <pre>
    A Sinusoid wave can be expressed as:

    x[ğ‘›] = ğ‘ cos(ğœ”ğ‘› + ğ›·)

    where:
    ğ‘› is the sample number, an integer
    ğ‘ is the amplitude
    ğœ” is the angular frequency
    ğ›· is the initial phase, which may take values from -1 to 1

    Each sample is discrete and unitless, so to produce audio samples must be played at a rate and for a duration:

    ğ‘› = ğ‘…ğ‘¡

    where:
    ğ‘… is the sample rate in Hz (or s^(-1))
    ğ‘¡ is the time in seconds (s)

    Real-time frequency may be related to sample rate and angular frequency as:

    ğ‘“ = (ğœ”ğ‘…) / (2ğœ‹)

    where:
    ğ‘“ is the real-time frequency, corresponding to a pitch, in Hz (or s^(-1))
    2ğœ‹ is the radians conversion factor to move from angular frequency (ğœ”)

    Examining the sinusoid function, note that the possible values for cos([anything]) run only from -1 to 1, so the amplitude ğ‘ is a multiplicative factor on our wave.  An increased amplitude corresponds to increaded loudness of a sound.

    The peak amplitude refers to the maximum sample value within a given window, typically understood as maximum of the absolute value (so if over the window sample values range from -10 to 2, the peak amplitude would be 10.)

    Under ordinary conditions we can take peak amplitude A(peak) = ğ‘ and root-mean squared amplitude A(RMS) = ğ‘/(âˆš2).

    Decibels are logarithmic relative units corresponding to amplitude:

    ğ‘‘ = 20 log (ğ‘/ğ‘(0))

    where:
    ğ‘‘ are decibels, a unitless quantitiy
    log is the base-10 logarithm
    ğ‘(0) is the reference frequency

    The typical reference requency in digital audio assumes the hardware has a maximum amplitude of 1, and takes ğ‘(0) = 10^(-5) = 0.00001

    </pre>

    </body>

</html>
